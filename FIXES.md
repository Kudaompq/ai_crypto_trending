# å‰ç«¯é—®é¢˜ä¿®å¤è¯´æ˜Ž

## ðŸ› å·²ä¿®å¤çš„é—®é¢˜

### 1. å›¾æ ‡ä¸æ˜¾ç¤º âœ…

**é—®é¢˜åŽŸå› **: Element Plus å›¾æ ‡ç»„ä»¶æœªå…¨å±€æ³¨å†Œ

**è§£å†³æ–¹æ¡ˆ**: åœ¨ `main.ts` ä¸­æ·»åŠ äº†å›¾æ ‡å…¨å±€æ³¨å†Œä»£ç 

**ä¿®æ”¹æ–‡ä»¶**: `frontend/src/main.ts`

```typescript
import * as ElementPlusIconsVue from '@element-plus/icons-vue'

// Register all Element Plus icons
for (const [key, component] of Object.entries(ElementPlusIconsVue)) {
  app.component(key, component)
}
```

**éªŒè¯æ–¹æ³•**:
- åˆ·æ–°é¡µé¢åŽï¼Œåˆ·æ–°æŒ‰é’®åº”è¯¥æ˜¾ç¤ºæ—‹è½¬å›¾æ ‡
- Loading çŠ¶æ€åº”è¯¥æ˜¾ç¤ºåŠ è½½å›¾æ ‡

---

### 2. æ”¯æ’‘ä½ä¸æ˜¾ç¤º âœ…

**é—®é¢˜åŽŸå› **: 
1. ä»·æ ¼çº¿åœ¨æ¯æ¬¡æ›´æ–°æ—¶é‡å¤æ·»åŠ ï¼Œæ²¡æœ‰æ¸…é™¤æ—§çš„çº¿
2. é€æ˜Žåº¦è¿‡ä½Žå¯¼è‡´ä¸æ˜Žæ˜¾

**è§£å†³æ–¹æ¡ˆ**: 
1. æ·»åŠ ä»·æ ¼çº¿å¼•ç”¨æ•°ç»„ï¼Œæ›´æ–°å‰å…ˆæ¸…é™¤æ—§çº¿
2. å¢žåŠ æœ€å°é€æ˜Žåº¦åˆ° 0.3ï¼Œç¡®ä¿å¯è§æ€§
3. æ˜¾ç¤ºæ•°é‡ä»Ž 3 ä¸ªå¢žåŠ åˆ° 5 ä¸ª

**ä¿®æ”¹æ–‡ä»¶**: `frontend/src/components/KlineChart.vue`

**å…³é”®ä»£ç **:
```typescript
let priceLines: any[] = [] // è·Ÿè¸ªä»·æ ¼çº¿

function updateSRLevels() {
  // å…ˆæ¸…é™¤æ—§çš„ä»·æ ¼çº¿
  priceLines.forEach(line => {
    candlestickSeries?.removePriceLine(line)
  })
  priceLines = []

  // æ·»åŠ åŽ‹åŠ›ä½ï¼ˆçº¢è‰²è™šçº¿ï¼‰
  props.resistance?.forEach((level, index) => {
    if (index < 5) {
      const color = `rgba(239, 83, 80, ${Math.max(0.3, level.strength)})`
      const line = candlestickSeries?.createPriceLine({
        price: level.price,
        color: color,
        lineWidth: 2,
        lineStyle: 2, // è™šçº¿
        axisLabelVisible: true,
        title: `R ${level.price.toFixed(2)}`,
      })
      if (line) priceLines.push(line)
    }
  })

  // æ·»åŠ æ”¯æ’‘ä½ï¼ˆç»¿è‰²è™šçº¿ï¼‰
  props.support?.forEach((level, index) => {
    if (index < 5) {
      const color = `rgba(38, 166, 154, ${Math.max(0.3, level.strength)})`
      const line = candlestickSeries?.createPriceLine({
        price: level.price,
        color: color,
        lineWidth: 2,
        lineStyle: 2, // è™šçº¿
        axisLabelVisible: true,
        title: `S ${level.price.toFixed(2)}`,
      })
      if (line) priceLines.push(line)
    }
  })
}
```

---

## ðŸ” å½“å‰æ•°æ®çŠ¶æ€

æ ¹æ®åŽç«¯ API è¿”å›žçš„æ•°æ®ï¼š

**æ”¯æ’‘ä½ (Support)**: 1ä¸ª
- $2872.91 (å¼ºåº¦: 5%)

**åŽ‹åŠ›ä½ (Resistance)**: 4ä¸ª
- $3094.62 (å¼ºåº¦: 26%)
- $3481.04 (å¼ºåº¦: 5%)
- $3665.29 (å¼ºåº¦: 9%)
- $3885.01 (å¼ºåº¦: 27%)

---

## ðŸš€ å¦‚ä½•éªŒè¯ä¿®å¤

### 1. é‡å¯å‰ç«¯å¼€å‘æœåŠ¡å™¨

ç”±äºŽä¿®æ”¹äº† `main.ts`ï¼Œéœ€è¦é‡å¯ï¼š

```bash
# åœæ­¢å½“å‰è¿è¡Œçš„å‰ç«¯æœåŠ¡å™¨ (Ctrl+C)
# ç„¶åŽé‡æ–°å¯åŠ¨
cd frontend
npm run dev
```

### 2. æ‰“å¼€æµè§ˆå™¨

è®¿é—®: `http://localhost:5173`

### 3. æ£€æŸ¥å›¾æ ‡

- âœ… å³ä¸Šè§’"åˆ·æ–°æ•°æ®"æŒ‰é’®åº”è¯¥æœ‰æ—‹è½¬ç®­å¤´å›¾æ ‡
- âœ… åŠ è½½æ—¶åº”è¯¥æ˜¾ç¤ºæ—‹è½¬çš„åŠ è½½å›¾æ ‡

### 4. æ£€æŸ¥æ”¯æ’‘/åŽ‹åŠ›ä½

åœ¨ Kçº¿å›¾ä¸Šåº”è¯¥çœ‹åˆ°ï¼š
- **çº¢è‰²è™šçº¿** (4æ¡): åŽ‹åŠ›ä½ï¼Œæ ‡ç­¾æ˜¾ç¤º "R 3094.62" ç­‰
- **ç»¿è‰²è™šçº¿** (1æ¡): æ”¯æ’‘ä½ï¼Œæ ‡ç­¾æ˜¾ç¤º "S 2872.91"

**æ³¨æ„**: æ”¯æ’‘ä½ $2872.91 å¯èƒ½åœ¨å›¾è¡¨åº•éƒ¨ï¼Œéœ€è¦å‘ä¸‹æ»šåŠ¨æˆ–ç¼©æ”¾å›¾è¡¨æ‰èƒ½çœ‹åˆ°

---

## ðŸŽ¨ è§†è§‰æ•ˆæžœ

### åŽ‹åŠ›ä½ (Resistance)
- **é¢œè‰²**: çº¢è‰² `rgba(239, 83, 80, 0.3-1.0)`
- **æ ·å¼**: è™šçº¿
- **æ ‡ç­¾**: "R" + ä»·æ ¼
- **ä½ç½®**: å½“å‰ä»·æ ¼ä¸Šæ–¹

### æ”¯æ’‘ä½ (Support)
- **é¢œè‰²**: ç»¿è‰² `rgba(38, 166, 154, 0.3-1.0)`
- **æ ·å¼**: è™šçº¿
- **æ ‡ç­¾**: "S" + ä»·æ ¼
- **ä½ç½®**: å½“å‰ä»·æ ¼ä¸‹æ–¹

---

## ðŸ”§ æ•…éšœæŽ’æŸ¥

### å¦‚æžœå›¾æ ‡ä»ç„¶ä¸æ˜¾ç¤º

1. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**: Ctrl+Shift+R (ç¡¬åˆ·æ–°)
2. **æ£€æŸ¥æŽ§åˆ¶å°é”™è¯¯**: F12 æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹ Console
3. **ç¡®è®¤ä¾èµ–å®‰è£…**: 
   ```bash
   cd frontend
   npm install @element-plus/icons-vue
   ```

### å¦‚æžœæ”¯æ’‘ä½ä»ç„¶ä¸æ˜¾ç¤º

1. **æ£€æŸ¥æ•°æ®**: æ‰“å¼€æµè§ˆå™¨æŽ§åˆ¶å° (F12)ï¼ŒæŸ¥çœ‹ Network æ ‡ç­¾ï¼Œæ‰¾åˆ° `/api/analysis` è¯·æ±‚ï¼Œç¡®è®¤ `sr_levels.support` æœ‰æ•°æ®

2. **æ£€æŸ¥å›¾è¡¨ç¼©æ”¾**: æ”¯æ’‘ä½ $2872.91 ä½ŽäºŽå½“å‰ä»·æ ¼ $3041ï¼Œå¯èƒ½éœ€è¦ï¼š
   - å‘ä¸‹æ»šåŠ¨å›¾è¡¨
   - ç¼©å°å›¾è¡¨æŸ¥çœ‹æ›´å¤§èŒƒå›´
   - ä½¿ç”¨é¼ æ ‡æ»šè½®ç¼©æ”¾

3. **æ£€æŸ¥æŽ§åˆ¶å°æ—¥å¿—**: 
   ```javascript
   // åœ¨æµè§ˆå™¨æŽ§åˆ¶å°è¾“å…¥
   console.log('Support levels:', window.store?.analysisResult?.sr_levels?.support)
   ```

---

## ðŸ“Š é¢„æœŸæ•ˆæžœ

ä¿®å¤åŽï¼ŒKçº¿å›¾åº”è¯¥æ˜¾ç¤ºï¼š
- âœ… ä¸“ä¸šçš„èœ¡çƒ›å›¾
- âœ… 4æ¡çº¢è‰²è™šçº¿ï¼ˆåŽ‹åŠ›ä½ï¼‰
- âœ… 1æ¡ç»¿è‰²è™šçº¿ï¼ˆæ”¯æ’‘ä½ï¼‰
- âœ… æ¯æ¡çº¿éƒ½æœ‰ä»·æ ¼æ ‡ç­¾
- âœ… å›¾æ ‡æ­£å¸¸æ˜¾ç¤º

---

## ðŸŽ¯ ä¸‹ä¸€æ­¥ä¼˜åŒ–å»ºè®®

1. **å¢žåŠ æ”¯æ’‘ä½æ•°é‡**: å½“å‰åªæœ‰1ä¸ªæ”¯æ’‘ä½ï¼Œå¯ä»¥è°ƒæ•´ç®—æ³•å‚æ•°å¢žåŠ è¯†åˆ«æ•°é‡
2. **è°ƒæ•´çº¿æ¡é€æ˜Žåº¦**: æ ¹æ®å¼ºåº¦åŠ¨æ€è°ƒæ•´é€æ˜Žåº¦
3. **æ·»åŠ ä»·æ ¼è§¦ç¢°æç¤º**: å½“ä»·æ ¼æŽ¥è¿‘ SR ä½æ—¶é«˜äº®æ˜¾ç¤º
4. **æ”¯æŒæ‰‹åŠ¨æ·»åŠ **: å…è®¸ç”¨æˆ·æ‰‹åŠ¨æ·»åŠ è‡ªå®šä¹‰ SR ä½

---

**ä¿®å¤å®Œæˆæ—¶é—´**: 2025-11-29 13:40  
**çŠ¶æ€**: âœ… å·²ä¿®å¤
